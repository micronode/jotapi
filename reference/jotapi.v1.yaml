openapi: 3.0.0
info:
  title: Jot
  version: '1.0'
  description: A collaboration API based on the iCalendar specification
  license:
    name: MIT
  contact:
    name: Micronode
    url: 'https://micronode.com/jot'
    email: fortuna@micronode.com
servers:
  - url: 'http://localhost:3000'
paths:
  /calendars:
    get:
      summary: Your GET endpoint
      tags: []
      responses:
        '200':
          $ref: '#/components/responses/calendar-list'
      operationId: list-calendars
      description: Retrieve a list of visible calendars
    parameters: []
    post:
      summary: ''
      operationId: create-calendar
      responses:
        '200':
          $ref: '#/components/responses/calendar'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                calscale:
                  type: string
                  enum:
                    - GREGORIAN
            examples:
              example-1:
                value:
                  name: string
                  description: string
                  calscale: GREGORIAN
  /events:
    get:
      summary: Your GET endpoint
      tags: []
      responses:
        '200':
          $ref: '#/components/responses/event-list'
      operationId: list-events
      description: Return a list of visible events
      parameters:
        - $ref: '#/components/parameters/calendar'
        - schema:
            type: string
          in: query
          name: organizer
          description: Owner of the events
        - $ref: '#/components/parameters/categories'
        - $ref: '#/components/parameters/class'
        - $ref: '#/components/parameters/fromDate'
        - $ref: '#/components/parameters/toDate'
    post:
      summary: ''
      operationId: create-event
      responses:
        '200':
          $ref: '#/components/responses/event'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                organizer:
                  type: string
                summary:
                  type: string
                dtstart:
                  type: string
                  format: date-time
                calendar:
                  type: string
              required:
                - organizer
                - summary
                - dtstart
                - calendar
            examples:
              example-1:
                value:
                  organizer: string
                  summary: string
                  dtstart: '2019-08-24T14:15:22Z'
                  calendar: string
  /todos:
    get:
      summary: Your GET endpoint
      tags: []
      responses:
        '200':
          $ref: '#/components/responses/todo-list'
      operationId: list-todos
      parameters:
        - $ref: '#/components/parameters/calendar'
        - $ref: '#/components/parameters/class'
        - $ref: '#/components/parameters/categories'
        - $ref: '#/components/parameters/fromDate'
        - $ref: '#/components/parameters/toDate'
    post:
      summary: ''
      operationId: create-todo
      responses:
        '200':
          $ref: '#/components/responses/todo'
      description: Create a new todo component
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                organizer:
                  type: string
                calendar:
                  type: string
                summary:
                  type: string
              required:
                - organizer
                - calendar
                - summary
            examples:
              example-1:
                value:
                  organizer: string
                  calendar: string
                  summary: string
  /journals:
    get:
      summary: Your GET endpoint
      tags: []
      responses:
        '200':
          $ref: '#/components/responses/journal-list'
      operationId: list-journals
      parameters:
        - $ref: '#/components/parameters/calendar'
        - $ref: '#/components/parameters/class'
        - $ref: '#/components/parameters/categories'
        - $ref: '#/components/parameters/fromDate'
        - $ref: '#/components/parameters/toDate'
    post:
      summary: ''
      operationId: create-journal
      responses:
        '200':
          $ref: '#/components/responses/journal'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                organizer:
                  type: string
                calendar:
                  type: string
                summary:
                  type: string
              required:
                - organizer
                - calendar
                - summary
            examples:
              example-1:
                value:
                  organizer: string
                  calendar: string
                  summary: string
  /freebusy:
    get:
      summary: Your GET endpoint
      tags: []
      responses:
        '200':
          $ref: '#/components/responses/freebusy'
      operationId: request-freebusy
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties: {}
        description: Freebusy request
  '/calendar/{Uid}':
    get:
      summary: Your GET endpoint
      tags: []
      responses:
        '200':
          $ref: '#/components/responses/calendar'
      operationId: get-calendar
      description: Retrieve detail of a specific calendar
    parameters:
      - $ref: '#/components/parameters/Uid'
    put:
      summary: ''
      operationId: set-calendar
      responses:
        '200':
          description: OK
      requestBody:
        content:
          application/json:
            schema:
              $ref: ../models/calendar.v1.yaml
            examples:
              example-1:
                value:
                  id: string
                  calscale: GREGORIAN
                  name: string
                  description: string
                  last-modified: '2019-08-24T14:15:22Z'
                  url: 'http://example.com'
                  categories:
                    - string
                  refresh-interval: string
                  source: 'http://example.com'
                  color: string
                  image: string
                  conference: 'http://example.com'
    patch:
      summary: ''
      operationId: update-calendar
      responses:
        '200':
          description: OK
      requestBody:
        content:
          application/json:
            schema:
              $ref: ../models/calendar.v1.yaml
            examples:
              example-1:
                value:
                  id: string
                  calscale: GREGORIAN
                  name: string
                  description: string
                  last-modified: '2019-08-24T14:15:22Z'
                  url: 'http://example.com'
                  categories:
                    - string
                  refresh-interval: string
                  source: 'http://example.com'
                  color: string
                  image: string
                  conference: 'http://example.com'
    delete:
      summary: ''
      operationId: delete-calendar
      responses:
        '200':
          description: OK
  '/alarms/{Uid}':
    get:
      summary: Your GET endpoint
      tags: []
      responses:
        '200':
          $ref: '#/components/responses/alarm-list'
      operationId: list-alarms
      description: Return a list of visible alarms
    post:
      summary: ''
      operationId: create-alarm
      responses:
        '200':
          $ref: '#/components/responses/alarm'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                action:
                  type: string
                  enum:
                    - AUDIO
                    - DISPLAY
                    - EMAIL
                trigger:
                  oneOf:
                    - $ref: ../models/trigger.v1.yaml
                    - $ref: ../models/triggerRel.v1.yaml
            examples:
              example-1:
                value:
                  action: AUDIO
                  trigger:
                    dtstart: '2019-08-24T14:15:22Z'
    parameters:
      - $ref: '#/components/parameters/Uid'
  '/alarm/{Id}':
    get:
      summary: Your GET endpoint
      tags: []
      responses:
        '200':
          $ref: '#/components/responses/alarm'
      operationId: get-alarm
    parameters:
      - schema:
          type: string
        name: Id
        in: path
        required: true
        description: Alarm identifier unique in the context of the parent component
    put:
      summary: ''
      operationId: set-alarm
      responses:
        '200':
          description: OK
      requestBody:
        content:
          application/json:
            schema:
              $ref: ../models/alarm.v1.yaml
            examples:
              example-1:
                value:
                  id: string
                  action: AUDIO
                  trigger:
                    dtstart: '2019-08-24T14:15:22Z'
                  description: string
                  duration: PT15M
                  repeat: 1
                  summary: string
                  attendees:
                    - cal-address: 'mailto:joecool@example.com'
                      cu-type: INDIVIDUAL
                      member: 'mailto:DEV-GROUP@example.com'
                      role: REQ-PARTICIPANT
                      partstat: NEEDS-ACTION
                      rsvp: false
                      delto: 'mailto:joecool@example.com'
                      delfrom: 'mailto:joecool@example.com'
                      sentby: 'mailto:joecool@example.com'
                      cn: string
                      dir: 'http://example.com'
                      language: en-US
                  attachments:
                    - id: string
                      fmttype: string
                      url: 'http://example.com'
          application/xml:
            schema:
              $ref: ../models/alarm.v1.yaml
    patch:
      summary: ''
      operationId: update-alarm
      responses:
        '200':
          description: OK
      requestBody:
        content:
          application/json:
            schema:
              $ref: ../models/alarm.v1.yaml
    delete:
      summary: ''
      operationId: delete-alarm
      responses:
        '200':
          description: OK
  '/event/{Uid}':
    get:
      summary: Your GET endpoint
      tags: []
      responses:
        '200':
          $ref: '#/components/responses/event-list'
      operationId: get-event
      description: 'Return a list of event components representing the latest version, recurrence overrides, and optionally past revisions.'
      parameters:
        - $ref: '#/components/parameters/includeRevisions'
    parameters:
      - $ref: '#/components/parameters/Uid'
    put:
      summary: ''
      operationId: set-event
      responses:
        '200':
          description: OK
      requestBody:
        content:
          application/json:
            schema:
              $ref: ../models/event.v1.yaml
            examples: {}
      description: Create a new revision by replacing the entire component content with the supplied values.
    patch:
      summary: ''
      operationId: update-event
      responses:
        '200':
          description: OK
      requestBody:
        content:
          application/json:
            schema:
              $ref: ../models/event.v1.yaml
            examples: {}
        description: ''
    delete:
      summary: ''
      operationId: delete-event
      responses:
        '200':
          description: OK
  '/journal/{Uid}':
    get:
      summary: Your GET endpoint
      tags: []
      responses:
        '200':
          $ref: '#/components/responses/journal-list'
      operationId: get-journal
      description: 'Return a list of journal components representing the latest revision, recurrence overrides, and optionally past revisions.'
      parameters:
        - $ref: '#/components/parameters/includeRevisions'
    parameters:
      - $ref: '#/components/parameters/Uid'
    put:
      summary: ''
      operationId: set-journal
      responses:
        '200':
          description: OK
      description: Create a new revision by replacing the entire component content with the supplied values.
      requestBody:
        content:
          application/json:
            schema:
              $ref: ../models/journal.v1.yaml
        description: ''
    patch:
      summary: ''
      operationId: update-journal
      responses:
        '200':
          description: OK
    delete:
      summary: ''
      operationId: delete-journal
      responses:
        '200':
          description: OK
  '/todo/{Uid}':
    get:
      summary: Your GET endpoint
      tags: []
      responses:
        '200':
          $ref: '#/components/responses/todo-list'
      operationId: get-todo
      description: 'Return a list of todo components representing the latest version, recurrence overrides, and optionally past revisions.'
      parameters:
        - $ref: '#/components/parameters/includeRevisions'
    parameters:
      - $ref: '#/components/parameters/Uid'
    delete:
      summary: ''
      operationId: delete-todo
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: ''
      description: Remove an existing todo component
    patch:
      summary: ''
      operationId: update-todo
      responses:
        '200':
          $ref: '#/components/responses/todo'
      description: Update an existing todo component
    put:
      summary: ''
      operationId: set-todo
      responses:
        '200':
          description: OK
      description: Create a new revision by replacing the entire component content with the supplied values.
      requestBody:
        content:
          application/json:
            schema:
              $ref: ../models/todo.v1.yaml
  '/availability/{Organizer}':
    get:
      summary: Your GET endpoint
      tags: []
      responses:
        '200':
          $ref: '#/components/responses/availability-list'
      operationId: get-availability
    put:
      summary: ''
      operationId: set-availability
      responses:
        '200':
          description: OK
      requestBody:
        content:
          application/json:
            schema:
              $ref: ../models/availability.v1.yaml
            examples:
              example-1:
                value:
                  id: string
                  organizer: string
                  summary: string
                  dtstart: '2019-08-24T14:15:22Z'
                  dtend: '2019-08-24T14:15:22Z'
                  rrule: string
        description: ''
    patch:
      summary: ''
      operationId: update-availability
      responses:
        '200':
          description: OK
      requestBody:
        content:
          application/json:
            schema:
              $ref: ../models/availability.v1.yaml
            examples:
              example-1:
                value:
                  id: string
                  organizer: string
                  summary: string
                  dtstart: '2019-08-24T14:15:22Z'
                  dtend: '2019-08-24T14:15:22Z'
                  rrule: string
    parameters:
      - schema:
          type: string
        name: Organizer
        in: path
        required: true
        description: URI of organizer
  '/attachments/{Uid}':
    get:
      summary: Your GET endpoint
      tags: []
      responses:
        '200':
          $ref: '#/components/responses/attachment-list'
      operationId: get-attachments
    post:
      summary: ''
      operationId: upload-attachment
      responses:
        '200':
          $ref: '#/components/responses/attachment'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                fmttype:
                  type: string
                url:
                  type: string
                  format: uri
              required:
                - url
            examples:
              example-1:
                value:
                  fmttype: string
                  url: 'http://example.com'
    parameters:
      - $ref: '#/components/parameters/Uid'
  '/attachment/{Id}':
    get:
      summary: Your GET endpoint
      tags: []
      responses:
        '200':
          $ref: '#/components/responses/attachment'
      operationId: get-attachment
    parameters:
      - schema:
          type: string
        name: Id
        in: path
        required: true
        description: Attachment identifier unique in the context of the parent component
    put:
      summary: ''
      operationId: set-attachment
      responses:
        '200':
          description: OK
      requestBody:
        content:
          application/json:
            schema:
              $ref: ../models/attachment.v1.yaml
    delete:
      summary: ''
      operationId: delete-attachment
      responses:
        '200':
          description: OK
components:
  schemas: {}
  responses:
    event-list:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: ../models/event.v1.yaml
    todo-list:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: ../models/todo.v1.yaml
    journal-list:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: ../models/journal.v1.yaml
    event:
      description: Example response
      content:
        application/json:
          schema:
            $ref: ../models/event.v1.yaml
          examples: {}
    journal:
      description: Example response
      content:
        application/json:
          schema:
            $ref: ../models/journal.v1.yaml
    todo:
      description: Example response
      content:
        application/json:
          schema:
            $ref: ../models/todo.v1.yaml
    calendar:
      description: Example response
      content:
        application/json:
          schema:
            $ref: ../models/calendar.v1.yaml
          examples:
            example-1:
              value:
                id: string
                calscale: GREGORIAN
                name: string
                description: string
                last-modified: '2019-08-24T14:15:22Z'
                url: 'http://example.com'
                categories:
                  - string
                refresh-interval: string
                source: 'http://example.com'
                color: string
                image: string
                conference: 'http://example.com'
    calendar-list:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: ../models/calendar.v1.yaml
          examples:
            example-1:
              value:
                - id: string
                  calscale: GREGORIAN
                  name: string
                  description: string
                  last-modified: '2019-08-24T14:15:22Z'
                  url: 'http://example.com'
                  categories:
                    - string
                  refresh-interval: string
                  source: 'http://example.com'
                  color: string
                  image: string
                  conference: 'http://example.com'
    alarm-list:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: ../models/alarm.v1.yaml
          examples:
            example-1:
              value:
                - id: string
                  action: AUDIO
                  trigger:
                    dtstart: '2019-08-24T14:15:22Z'
                  description: string
                  duration: PT15M
                  repeat: 1
                  summary: string
                  attendees:
                    - cal-address: 'mailto:joecool@example.com'
                      cu-type: INDIVIDUAL
                      member: 'mailto:DEV-GROUP@example.com'
                      role: REQ-PARTICIPANT
                      partstat: NEEDS-ACTION
                      rsvp: false
                      delto: 'mailto:joecool@example.com'
                      delfrom: 'mailto:joecool@example.com'
                      sentby: 'mailto:joecool@example.com'
                      cn: string
                      dir: 'http://example.com'
                      language: en-US
                  attachments:
                    - id: string
                      fmttype: string
                      url: 'http://example.com'
    alarm:
      description: Example response
      content:
        application/json:
          schema:
            $ref: ../models/alarm.v1.yaml
          examples:
            example-1:
              value:
                id: string
                action: AUDIO
                trigger:
                  dtstart: '2019-08-24T14:15:22Z'
                description: string
                duration: PT15M
                repeat: 1
                summary: string
                attendees:
                  - cal-address: 'mailto:joecool@example.com'
                    cu-type: INDIVIDUAL
                    member: 'mailto:DEV-GROUP@example.com'
                    role: REQ-PARTICIPANT
                    partstat: NEEDS-ACTION
                    rsvp: false
                    delto: 'mailto:joecool@example.com'
                    delfrom: 'mailto:joecool@example.com'
                    sentby: 'mailto:joecool@example.com'
                    cn: string
                    dir: 'http://example.com'
                    language: en-US
                attachments:
                  - id: string
                    fmttype: string
                    url: 'http://example.com'
    availability-list:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: ../models/availability.v1.yaml
          examples:
            example-1:
              value:
                - id: string
                  organizer: string
                  summary: string
                  dtstart: '2019-08-24T14:15:22Z'
                  dtend: '2019-08-24T14:15:22Z'
                  rrule: string
    attachment-list:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: ../models/attachment.v1.yaml
          examples:
            example-1:
              value:
                - id: string
                  fmttype: string
                  url: 'http://example.com'
    attachment:
      description: Example response
      content:
        application/json:
          schema:
            $ref: ../models/attachment.v1.yaml
          examples:
            example-1:
              value:
                id: string
                fmttype: string
                url: 'http://example.com'
    freebusy:
      description: Example response
      content:
        application/json:
          schema:
            $ref: ../models/freebusy.v1.yaml
          examples: {}
  parameters:
    Uid:
      name: Uid
      in: path
      required: true
      schema:
        type: string
      description: Unique identifier for a component or calendar
    includeRevisions:
      name: includeRevisions
      in: query
      required: false
      schema:
        type: boolean
        default: 'false'
      description: Include previous revisions of requested component
    calendar:
      name: calendar
      in: query
      required: false
      schema:
        type: string
      description: Unique id of a calendar to filter components
    class:
      name: class
      in: query
      required: false
      schema:
        type: string
        enum:
          - PUBLIC
          - PRIVATE
          - CONFIDENTIAL
        default: PUBLIC
      description: Component classification filter
    categories:
      name: categories
      in: query
      required: false
      schema:
        type: string
      description: List of categories to filter results
    fromDate:
      name: fromDate
      in: query
      required: false
      schema:
        type: string
        format: date
      description: Minimum start date of results
    toDate:
      name: toDate
      in: query
      required: false
      schema:
        type: string
        format: date
      description: Maximum start date of results
